(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13d0978a"],{"0fa3":function(e,t,r){"use strict";r("9645")},"3ebd":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reginsterContainer"},[r("el-form",{ref:"form",staticClass:"loginForm",attrs:{"label-position":"left",model:e.user,rules:e.rules}},[r("h2",{staticStyle:{"margin-bottom":"10px",color:"rgb(0, 195, 255)"}},[e._v("注册")]),r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"昵称"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),r("el-form-item",{attrs:{prop:"passwords"}},[r("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"确认密码"},model:{value:e.user.passwords,callback:function(t){e.$set(e.user,"passwords",t)},expression:"user.passwords"}})],1),r("el-form-item",{attrs:{prop:"phoneNumber"}},[r("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"手机号码"},model:{value:e.user.phoneNumber,callback:function(t){e.$set(e.user,"phoneNumber",t)},expression:"user.phoneNumber"}})],1),r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"邮箱"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"188px",float:"left","margin-right":"10px"},attrs:{type:"text","auto-complete":"false",placeholder:"验证码"},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code",t)},expression:"user.code"}}),r("valid-code",{on:{listen:e.getCode}})],1),r("el-button",{on:{click:function(t){return e.test()}}},[e._v("test")]),r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"注册成功后账号将发送至您的邮箱",placement:"top"}},[r("el-button",{on:{click:function(t){return e.doReginster("form")}}},[e._v("注册")])],1)],1)],1)},a=[],o=r("fd8f"),l=r("1602"),n={name:"Register",components:{ValidCode:o["a"]},data(){return{user:{name:"",password:"",passwords:"",phoneNumber:"",email:"",code:""},code:"",rules:{name:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{min:4,max:8,message:"长度在 4 到 8 个字符",trigger:"blur"}],passwords:[{required:!0,message:"请确认密码",trigger:"change"},{min:4,max:8,message:"长度在 4 到 8 个字符",trigger:"blur"}],phoneNumber:[{required:!0,message:"请输入电话号码",trigger:"blur"},{min:11,max:11,message:"请输入正确的电话号码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱账号",trigger:"blur"},{min:6,max:12,message:"请输入正确的邮箱",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"请输入正确的验证码",trigger:"blur"}]}}},methods:{doReginster(e){let t=this;this.$refs[e].validate(e=>{if(!e||!t.checkReginsterData(t.user.phoneNumber,t.user.email,t.user.code))return console.log("error submit!!"),!1;Object(l["e"])({password:t.user.password,nickname:t.user.name,phoneNumber:t.user.phoneNumber,email:t.user.email}).then(e=>{t.$message({message:"账号注册成功",type:"success",showClose:!0}),alert("你的账号是"+e.data.data.account)})})},test(){Object(l["e"])({account:"20223025",password:"1234",nickname:"tyojd",phoneNumber:"dadwda",email:"dadda"})},checkReginsterData(e,t,r){return/^\d+$/.test(e)?new RegExp(".*@.*\\.com").test(t)?r==this.code&&""!=r||(this.$message({message:"验证码错误",type:"error",showClose:!0}),!1):(this.$message({message:"邮箱格式错误",type:"error",showClose:!0}),!1):(this.$message({message:"电话号码格式错误",type:"error",showClose:!0}),!1)},getCode(e){this.code=e}}},i=n,d=(r("c33e"),r("2877")),u=Object(d["a"])(i,s,a,!1,null,"650c413a",null);t["default"]=u.exports},9645:function(e,t,r){},c33e:function(e,t,r){"use strict";r("d1fd")},d1fd:function(e,t,r){},fd8f:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ValidCode disabled-select",style:"width:"+e.width+"; height:"+e.height,on:{click:e.refreshCode}},e._l(e.codeList,(function(t,s){return r("span",{key:s,style:e.getStyle(t)},[e._v(e._s(t.code))])})),0)},a=[],o={name:"ValidCode",props:{width:{type:String,default:"150px"},height:{type:String,default:"40px"},length:{type:Number,default:4}},data(){return{codeList:[]}},mounted(){this.createdCode(),this.getCode()},methods:{refreshCode(){this.createdCode(),this.getCode()},createdCode(){let e=this.length,t=[],r="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",s=r.length;for(let a=0;a<e;a++){let e=[Math.round(220*Math.random()),Math.round(240*Math.random()),Math.round(200*Math.random())];t.push({code:r.charAt(Math.floor(Math.random()*s)),color:`rgb(${e})`,fontSize:Math.floor(30*Math.random())+20+"px",padding:[Math.floor(10*Math.random())]+"px",border:"${1}px",transform:`rotate(${Math.floor(90*Math.random())-Math.floor(90*Math.random())}deg)`})}this.codeList=t,this.$emit("update:value",t.map(e=>e.code).join(""))},getStyle(e){return`color: ${e.color}; font-size: ${e.fontSize}; padding: ${e.padding}; transform: ${e.transform}`},getCode(){let e="";for(let t of this.codeList)e+=t.code;4!=e.length&&this.$message({message:"验证码出错了("+e+")",type:"error",showClose:!0}),this.$emit("listen",e)}}},l=o,n=(r("0fa3"),r("2877")),i=Object(n["a"])(l,s,a,!1,null,"b20a2a98",null);t["a"]=i.exports}}]);
//# sourceMappingURL=chunk-13d0978a.44d96237.js.map