!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@wangeditor/editor")):"function"==typeof define&&define.amd?define(["@wangeditor/editor"],r):"object"==typeof exports?exports.WangEditorPluginMD=r(require("@wangeditor/editor")):e.WangEditorPluginMD=r(e.wangEditor)}(self,(e=>(()=>{"use strict";var r={857:r=>{r.exports=e}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var i=t[e]={exports:{}};return r[e](i,i.exports,n),i.exports}n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{default:()=>a});var e=n(857),r={"*":"list-item","-":"list-item","+":"list-item",">":"blockquote","#":"header1","##":"header2","###":"header3","####":"header4","#####":"header5"},t={"---":"divider","----":"divider","-----":"divider","------":"divider"};function i(r){var t=r.selection;if(null==t)return{beforeText:"",range:null};var n=t.anchor,o=e.SlateEditor.above(r,{match:function(t){return e.SlateEditor.isBlock(r,t)}});if(null==o)return{beforeText:"",range:null};var i=o[1],a={anchor:n,focus:e.SlateEditor.start(r,i)};return{beforeText:e.SlateEditor.string(r,a)||"",range:a}}const a={editorPlugin:function(n){var o=n.insertBreak,a=n.insertText,l=n;return l.insertText=function(t){var o=n.selection;if(null==o)return a(t);if(e.SlateRange.isExpanded(o))return a(t);if(null==e.DomEditor.getSelectedNodeByType(n,"paragraph"))return a(t);if(" "!==t)return a(t);var l=i(n),s=l.beforeText,d=l.range;if(!s||!d)return a(t);var u=r[s];if(!u)return a(t);e.SlateTransforms.select(n,d),e.SlateTransforms.delete(n);var f={type:u};e.SlateTransforms.setNodes(n,f,{match:function(r){return e.SlateEditor.isBlock(n,r)}}),"list-item"===u&&e.SlateTransforms.wrapNodes(n,{type:"bulleted-list",children:[]},{match:function(r){return"list-item"===e.DomEditor.getNodeType(r)}})},l.insertBreak=function(){var r=n.selection;if(null==r)return o();if(e.SlateRange.isExpanded(r))return o();if(null==e.DomEditor.getSelectedNodeByType(n,"paragraph"))return o();var a=i(n),l=a.beforeText,s=a.range;if(!l||!s)return o();if(0!==l.indexOf("```")){var d=t[l];if(!d)return o();e.SlateTransforms.select(n,s),e.SlateTransforms.delete(n);var u={type:d};e.SlateTransforms.setNodes(n,u,{match:function(r){return e.SlateEditor.isBlock(n,r)}})}else{var f=l.slice(3).toLowerCase().trim();"js"===f&&(f="javascript"),"ts"===f&&(f="typescript"),"md"===f&&(f="markdown"),"py"===f&&(f="python"),"vb"===f&&(f="visual-basic"),"c#"===f&&(f="csharp");var c=((n.getConfig().MENU_CONF||{}).codeSelectLang||[]).codeLangs;if(f&&!(void 0===c?[]:c).some((function(e){return e.value===f})))return o();e.SlateTransforms.select(n,s),e.SlateTransforms.delete(n);var p={type:"pre",children:[{type:"code",language:f,children:[{text:""}]}]};e.SlateTransforms.insertNodes(n,p)}},l}}})(),o})()));
//# sourceMappingURL=index.js.map